(()=>{"use strict";let t=[];function e(){!function(){const e=localStorage.getItem("tasks");e&&(t=JSON.parse(e))}();const e=document.getElementById("todo-list");e.innerHTML="",t.sort(((t,e)=>t.index-e.index)),t.forEach(((t,n)=>{const a=document.createElement("li"),o=document.createElement("div"),d=document.createElement("span");o.className="task-item",d.textContent=t.description,d.className=t.completed?"completed":"",d.dataset.index=n,d.setAttribute("contenteditable","true"),o.appendChild(d);const s=document.createElement("i");s.className="fas fa-trash-alt text-danger float-end delete-button",a.appendChild(o),a.appendChild(s),e.appendChild(a)}))}document.getElementById("add-task-form").addEventListener("submit",(n=>{n.preventDefault(),function(e){const n={description:document.getElementById("task-input").value,completed:!1,index:t.length};console.log(`task added ==> ${n.index} & ${n.description} `),t.push(n),localStorage.setItem("tasks",JSON.stringify(t))}(),e(),document.getElementById("task-input").value=""})),document.addEventListener("click",(function(n){if(n.target.classList.contains("delete-button")){const o=n.target.parentNode;a=parseInt(o.dataset.index),console.log(`index of task ==> ${a}`),t.splice(a,1),console.log(t),t.forEach(((t,e)=>{t.index=e})),console.log(t),localStorage.setItem("tasks",JSON.stringify(t)),o.remove(),e()}var a})),document.addEventListener("input",(function(e){if("SPAN"===e.target.tagName){const n=e.target;!function(e,n){const a=t.find((t=>t.index===e));a&&(a.description=n,localStorage.setItem("tasks",JSON.stringify(t)))}(parseInt(n.dataset.index),n.textContent.trim())}})),document.addEventListener("blur",(function(t){"SPAN"===t.target.tagName&&e()})),document.addEventListener("DOMContentLoaded",e)})();